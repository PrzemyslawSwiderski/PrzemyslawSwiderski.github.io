---
layout: post
title: Using Kotlin DSL in Gradle builds
date: 2020-04-15 20:00:00 +0000
comments: true
categories:
- Kotlin
- Gradle
- Java

---
Article about advantages of using Gradle with Kotlin DSL.

## Intro

Gradle is a build tool is able to compile Java projects, however developers can also write custom tasks or perform additional complex actions by writing Gradle build scripts. Moreover, Gradle can also build [C++](https://guides.gradle.org/building-cpp-libraries/) or [Python](https://github.com/linkedin/pygradle) projects. Similar to Maven, it is also possible to apply external plugins which can for example push docker image to registry or create bootable Jar containing Spring app. 

Although Maven build system is still more popular, Gradle [gains popularity](https://www.jetbrains.com/lp/devecosystem-2019/java/). 

Since version 5.0 Gradle now supports Kotlin DSL (alongside Groovy) as build scripts. It enables project's code to be Kotlin only, so that both application code and build scripts are written in Kotlin language.

In the next sections there will be presented how to implement release mechanism of Spring Boot Web application. Spring Boot Project was originally generated by [Initializr](https://start.spring.io/). Some changes were applied for the need of this post. Whole code can be found on [Github]().

## Applying external plugins
Code generated by Initializr lets developer to build app, create bootable Jar or run on embeded local Tomcat server. It is provided by applying Spring Boot [plugin](https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/) in `build.gradle.kts`:
```kotlin
(...)
	id("io.spring.dependency-management") version Versions.springDependencyManagementPlugin
(...)
```
This one line in build script create new tasks:
* `bootRun` - run app locally
* `bootJar` - pack app into single Jar file with all dependencies



## Writing custom task

## Debugging

## Summary

Personally, I worked with older build tools such as Maven or Ant and in my opinion Gradle is a way better.

Writing scripts in Kotlin code instead of XML elements can improve readability and maintainability of build config. It is also possible to print out some configuration variables or even debug Kotlin DSL code. Such as flexibility was not possible in case of older build systems.